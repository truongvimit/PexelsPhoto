name: ğŸš€ Release APK

on:
  push:
    tags:
      - 'v*'

jobs:
  build-and-release:
    runs-on: ubuntu-latest
    
    steps:
      - name: ğŸ“¥ Checkout code
        uses: actions/checkout@v4

      - name: â˜• Set up JDK 11
        uses: actions/setup-java@v4
        with:
          java-version: '11'
          distribution: 'temurin'

      - name: ğŸ”§ Setup Gradle
        uses: gradle/gradle-build-action@v2

      - name: ğŸ—ï¸ Build Release APK
        run: ./gradlew assembleRelease

      - name: ğŸ“± Upload APK to Release
        uses: softprops/action-gh-release@v1
        with:
          files: app/build/outputs/apk/release/*.apk
          body: |
            ## ğŸš€ What's New in this Release
            
            - ğŸ”¥ Tinder-style photo discovery
            - ğŸ“¸ High-quality photos from Pexels
            - ğŸ” Smart search functionality
            - â¤ï¸ Favorites management
            - ğŸ¨ Modern Material Design 3 UI
            
            ### ğŸ“± Installation
            1. Download APK below
            2. Install on Android 7.0+
            3. Enjoy discovering photos!
          
          draft: false
          prerelease: false
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}